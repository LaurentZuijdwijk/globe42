<h1>
  <ng-container *ngIf="editedIncomeSource">Modification de la nature de prestation {{ editedIncomeSource.name }}</ng-container>
  <ng-container *ngIf="!editedIncomeSource">Nouvelle nature de prestation</ng-container>
</h1>

<form (ngSubmit)="save()" [formGroup]="incomeSourceForm">
  <div class="form-group row">
    <label for="name" class="col-sm-3 col-form-label">Nom</label>
    <div class="col-sm-9">
      <input class="form-control" id="name" formControlName="name"/>
      <gl-validation-errors [control]="incomeSourceForm.get('name')">
        <ng-template glError="required">Le nom est obligatoire</ng-template>
      </gl-validation-errors>
    </div>
  </div>
  <div class="form-group row">
    <label for="type" class="col-sm-3 col-form-label">Organisme payeur</label>
    <div class="col-sm-9">
      <select class="form-control" id="type" formControlName="typeId">
        <option value=""></option>
        <option *ngFor="let type of incomeSourceTypes" [ngValue]="type.id">{{ type.type }}</option>
      </select>
      <gl-validation-errors [control]="incomeSourceForm.get('typeId')">
        <ng-template glError="required">L'organisme payeur est obligatoire</ng-template>
      </gl-validation-errors>
    </div>
  </div>
  <div class="form-group row">
    <label for="maxMonthlyAmount" class="col-sm-3 col-form-label">Montant mensuel maximum</label>
    <div class="col-sm-9">
      <input type="number" class="form-control" id="maxMonthlyAmount" formControlName="maxMonthlyAmount" min="1" />
      <gl-validation-errors [control]="incomeSourceForm.get('maxMonthlyAmount')">
        <ng-template glError="min">Le montant mensuel maximum doit Ãªtre positif</ng-template>
      </gl-validation-errors>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-9 offset-sm-3">
      <button class="btn btn-primary mr-2" id="save">Enregistrer</button>
      <a class="btn btn-secondary" routerLink="/income-sources">Annuler</a>
    </div>
  </div>
</form>
